"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[547],{5178:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>a});const l=JSON.parse('{"id":"hooks/useCollection","title":"useCollection","description":"useCollection(options: Object) allows a custom Collection to be built.","source":"@site/docs/hooks/useCollection.mdx","sourceDirName":"hooks","slug":"/hooks/useCollection","permalink":"/usetheform/hooks/useCollection","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"name":"useCollection"},"sidebar":"tutorialSidebar","previous":{"title":"useAsyncValidation","permalink":"/usetheform/hooks/useAsyncValidation"},"next":{"title":"useField","permalink":"/usetheform/hooks/useField"}}');var t=r(1085),s=r(1184);const o={name:"useCollection"},i="useCollection",c={},a=[{value:"Arguments",id:"arguments",level:2},{value:"Returns",id:"returns",level:2},{value:"Basic usage",id:"basic-usage",level:2},{value:"Reducers",id:"reducers",level:2},{value:"Validation",id:"validation",level:2}];function d(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"usecollection",children:"useCollection"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"useCollection(options: Object)"})," allows a custom Collection to be built."]}),"\n",(0,t.jsxs)(n.p,{children:["A Collection can be of type: ",(0,t.jsx)(n.em,{children:"object"})," or ",(0,t.jsx)(n.em,{children:"array"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const { value, state, updateCollection } = useCollection(options)\n"})}),"\n",(0,t.jsx)(n.h2,{id:"arguments",children:"Arguments"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"options"})}),": object"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"type"})}),": string"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Strings accepted: ",(0,t.jsx)(n.strong,{children:"object"})," | ",(0,t.jsx)(n.strong,{children:"array"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"name"})}),": string"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["A field's name in Usetheform state. ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(n.li,{children:["If it is rendered within a ",(0,t.jsx)(n.code,{children:"<Collection array />"}),", ",(0,t.jsx)(n.strong,{children:"name"})," is not allowed as a prop."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"index"})}),": string"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["A field's index in an array Collection. ",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"index"})," is only allowed if it is rendered within a ",(0,t.jsx)(n.code,{children:"<Collection array /> "}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"value"})}),": array | object"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Specifies the initial value of a ",(0,t.jsx)(n.em,{children:"Collection"})," which can be either an array or an object."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"reducers"})}),": array | function"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"An array whose values correspond to different reducer functions."}),"\n",(0,t.jsx)(n.li,{children:"Reducer functions specify how the Collection's value changes."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"(nextValue, prevValue, formState) => nextValue\n"})}),"\n",(0,t.jsx)(n.h2,{id:"returns",children:"Returns"}),"\n",(0,t.jsxs)(n.p,{children:["(",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"helpers"})}),"): ",(0,t.jsx)(n.code,{children:"object"})]}),"\n",(0,t.jsx)(n.p,{children:"An object that holds:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"value"})}),": the current value of the Collection. It can be an array or an object."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"updateCollection"})}),": a function which can change one prop of the Collection."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"state"})}),": the current State of the entire Form."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"basic-usage",children:"Basic usage"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'import { useCollection } from "usetheform";\r\n\r\nconst CustomCollection = props => {\r\n  const { value, state, updateCollection } = useCollection({\r\n    name: "test",\r\n    type: "object",\r\n    value: { name: "foo" } // an initialValue if needeed\r\n  });\r\n\r\n  // it changes the prop "name" of the Collection named "test"\r\n  const onUpdateCollection = () => updateCollection("name", "mickey");\r\n\r\n  return (\r\n    <div>\r\n      <span>{value.name}<span>\r\n      <button type="button" onClick={onUpdateCollection}>\r\n        Update Collection\r\n      </button>\r\n    </div>\r\n  );\r\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"reducers",children:"Reducers"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'import { useCollection } from "usetheform";\r\n\r\nconst maxNumber10 = (nextValue, prevValue) => nextValue > 10 ? prevValue : nextValue;\r\nconst minNumber1 = (nextValue, prevValue) => nextValue <= 1 ? prevValue : nextValue;\r\n\r\nconst CustomCollection = props => {\r\n  const { value, state, updateCollection } = useCollection({\r\n    name: "test",\r\n    type: "object",\r\n    value: { number: 10 } // an initialValue if needeed\r\n    reducers: [minNumber1, maxNumber10],\r\n  });\r\n\r\n  const onIncrement = () => updateCollection("number", value.number + 1 );\r\n  const onDecrement = () => updateCollection("number", value.number - 1 );\r\n\r\n  return (\r\n    <div>\r\n      <span>{value.number}<span>\r\n      <button type="button" onClick={onIncrement}>\r\n        Increment\r\n      </button>\r\n      <button type="button" onClick={onDecrement}>\r\n        Decrement\r\n      </button>\r\n    </div>\r\n  );\r\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"validation",children:"Validation"}),"\n",(0,t.jsx)(n.p,{children:"Validation for Collection starts only on form submission."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'import { useValidation, useCollection } from "usetheform";\r\n\r\nconst lessThan10 = value => {\r\n  return value && value.number && value.number <= 10\r\n    ? undefined\r\n    : "Number not valid";\r\n};\r\nconst graterThan0 = value =>\r\n  value && value.number && value.number >= 0 ? undefined : "Number not valid";\r\n\r\nconst CustomCollection = props => {\r\n  const [status, validation] = useValidation([lessThan10, graterThan0]);\r\n  const { value, updateCollection } = useCollection({\r\n    name: "test",\r\n    type: "object",\r\n    value: { number: 9 }, // an initialValue if needeed\r\n    ...validation\r\n  });\r\n\r\n  const onIncrement = () => updateCollection("number", value.number + 1);\r\n  const onDecrement = () => updateCollection("number", value.number - 1);\r\n\r\n  return (\r\n    <div>\r\n      <span>{value.number}</span>\r\n      {status.error && <label>{status.error}</label>}\r\n      <button type="button" onClick={onIncrement}>\r\n        Increment\r\n      </button>\r\n      <button type="button" onClick={onDecrement}>\r\n        Decrement\r\n      </button>\r\n    </div>\r\n  );\r\n}\n'})})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);