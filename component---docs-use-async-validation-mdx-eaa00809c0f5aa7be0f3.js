(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{kMzV:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return u})),a.d(t,"default",(function(){return d}));var n=a("Fcif"),c=a("+I+c"),s=(a("mXGw"),a("/FXl")),l=a("TjRS"),r=a("ZFoC"),b=a("RnGj"),o=a("8xEu"),i=a("oXiK"),u=(a("aD51"),{});void 0!==u&&u&&u===Object(u)&&Object.isExtensible(u)&&!u.hasOwnProperty("__filemeta")&&Object.defineProperty(u,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"docs/useAsyncValidation.mdx"}});var p={_frontmatter:u},m=l.a;function d(e){var t,a=e.components,d=Object(c.a)(e,["components"]);return Object(s.b)(m,Object(n.a)({},p,d,{components:a,mdxType:"MDXLayout"}),Object(s.b)("h1",{id:"useasyncvalidation"},"useAsyncValidation"),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"useAsyncValidation(validator: Function)")," provides the async validation logic to any Field."),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"  const [asyncStatus, validationAsyncAttr] = useAsyncValidation(fn);\n")),Object(s.b)("h2",{id:"arguments"},"Arguments"),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},Object(s.b)("inlineCode",{parentName:"strong"},"validator")),": function"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"A function which receives the value of the field and returns a promise.")),Object(s.b)("h2",{id:"returns"},"Returns"),Object(s.b)("p",null,"(",Object(s.b)("strong",{parentName:"p"},Object(s.b)("inlineCode",{parentName:"strong"},"validationAsyncProps")),"): array"),Object(s.b)("p",null,"An array that holds:"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},Object(s.b)("p",{parentName:"li"},Object(s.b)("strong",{parentName:"p"},Object(s.b)("inlineCode",{parentName:"strong"},"asyncStatus")),": object"),Object(s.b)("ul",{parentName:"li"},Object(s.b)("li",{parentName:"ul"},Object(s.b)("p",{parentName:"li"},"A plain object that holds a prop named ",Object(s.b)("inlineCode",{parentName:"p"},"status")," and a prop named ",Object(s.b)("inlineCode",{parentName:"p"},"value"),".")),Object(s.b)("li",{parentName:"ul"},Object(s.b)("p",{parentName:"li"},Object(s.b)("strong",{parentName:"p"},Object(s.b)("inlineCode",{parentName:"strong"},"status"))," might be one of the following:"),Object(s.b)("ul",{parentName:"li"},Object(s.b)("li",{parentName:"ul"},'"undefined" : async validation did not start yet'),Object(s.b)("li",{parentName:"ul"},'"asyncStart" : async validation has started'),Object(s.b)("li",{parentName:"ul"},'"asyncSuccess" : the promise has been resolved with success'),Object(s.b)("li",{parentName:"ul"},'"asyncError" : the promise has been rejected'))),Object(s.b)("li",{parentName:"ul"},Object(s.b)("p",{parentName:"li"},Object(s.b)("strong",{parentName:"p"},Object(s.b)("inlineCode",{parentName:"strong"},"value"))," is the value returned by the promise ")))),Object(s.b)("li",{parentName:"ul"},Object(s.b)("p",{parentName:"li"},Object(s.b)("strong",{parentName:"p"},Object(s.b)("inlineCode",{parentName:"strong"},"validationAsyncAttr")),": object"),Object(s.b)("ul",{parentName:"li"},Object(s.b)("li",{parentName:"ul"},"A plain object which contains all the props that must be spreaded to the Field.")))),Object(s.b)("h2",{id:"basic-usage"},"Basic usage"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"  import { Form, Input, useAsyncValidation } from 'usetheform'\n")),Object(s.b)(r.b,{__position:0,__code:"() => {\n  const asyncTest = value =>\n    new Promise((resolve, reject) => {\n      setTimeout(() => {\n        if (value.length <= 3) {\n          reject('Error')\n        } else resolve('Success')\n      }, 1500)\n    })\n  const [asyncStatus, validationProps] = useAsyncValidation(asyncTest)\n  return (\n    <Form>\n      <Input\n        type=\"text\"\n        name=\"name\"\n        touched\n        placeholder=\"Name\"\n        {...validationProps}\n      />\n      {asyncStatus.status === undefined && (\n        <label>Async Check Not Started Yet</label>\n      )}\n      {asyncStatus.status === 'asyncStart' && <label>Checking...</label>}\n      {asyncStatus.status === 'asyncError' && (\n        <label>{asyncStatus.value}</label>\n      )}\n      {asyncStatus.status === 'asyncSuccess' && (\n        <label>{asyncStatus.value}</label>\n      )}\n    </Form>\n  )\n}",__scope:(t={props:d,DefaultLayout:l.a,Playground:r.b,Form:b.a,Input:o.a,useAsyncValidation:i.h},t.DefaultLayout=l.a,t._frontmatter=u,t),mdxType:"Playground"},(function(){var e=Object(i.h)((function(e){return new Promise((function(t,a){setTimeout((function(){e.length<=3?a("Error"):t("Success")}),1500)}))})),t=e[0],a=e[1];return Object(s.b)(b.a,{mdxType:"Form"},Object(s.b)(o.a,Object(n.a)({type:"text",name:"name",touched:!0,placeholder:"Name"},a,{mdxType:"Input"})),void 0===t.status&&Object(s.b)("label",null,"Async Check Not Started Yet"),"asyncStart"===t.status&&Object(s.b)("label",null,"Checking..."),"asyncError"===t.status&&Object(s.b)("label",null,t.value),"asyncSuccess"===t.status&&Object(s.b)("label",null,t.value))})))}void 0!==d&&d&&d===Object(d)&&Object.isExtensible(d)&&!d.hasOwnProperty("__filemeta")&&Object.defineProperty(d,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"docs/useAsyncValidation.mdx"}}),d.isMDXComponent=!0}}]);
//# sourceMappingURL=component---docs-use-async-validation-mdx-eaa00809c0f5aa7be0f3.js.map